module.exports=function(e,n){"use strict";var t={};function __webpack_require__(n){if(t[n]){return t[n].exports}var r=t[n]={i:n,l:false,exports:{}};var o=true;try{e[n].call(r.exports,r,r.exports,__webpack_require__);o=false}finally{if(o)delete t[n]}r.l=true;return r.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(351)}return startup()}({127:function(e){e.exports=require("express")},150:function(e){e.exports=require("morgan")},207:function(e){const n=e=>`\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <meta http-equiv="X-UA-Compatible" content="ie=edge" />\n    <title>Document</title>\n    <script src="/socket.io/socket.io.js"><\/script>\n    <style>\n      body,\n      html {\n        background-color: black;\n        color: wheat;\n      }\n    </style>\n  </head>\n  <body>\n    <h1>Hello world</h1>\n    <script>\n      const socket = io();\n      window.socket = socket;\n      const id = Math.random();\n      const event = 'open-tureng';\n\n      ${e?`\n      function emitt() {\n        socket.emit('emit', { event, arg: { rn: Math.random() } });\n      }\n      `:`\n      socket.on(event, (arg) => {\n        console.log({ arg });\n      });\n      `}\n    <\/script>\n  </body>\n</html>\n`;e.exports=n},287:function(e,n,t){(function(){"use strict";var n=t(426);var r=t(931);var o={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:false,optionsSuccessStatus:204};function isString(e){return typeof e==="string"||e instanceof String}function isOriginAllowed(e,n){if(Array.isArray(n)){for(var t=0;t<n.length;++t){if(isOriginAllowed(e,n[t])){return true}}return false}else if(isString(n)){return e===n}else if(n instanceof RegExp){return n.test(e)}else{return!!n}}function configureOrigin(e,n){var t=n.headers.origin,r=[],o;if(!e.origin||e.origin==="*"){r.push([{key:"Access-Control-Allow-Origin",value:"*"}])}else if(isString(e.origin)){r.push([{key:"Access-Control-Allow-Origin",value:e.origin}]);r.push([{key:"Vary",value:"Origin"}])}else{o=isOriginAllowed(t,e.origin);r.push([{key:"Access-Control-Allow-Origin",value:o?t:false}]);r.push([{key:"Vary",value:"Origin"}])}return r}function configureMethods(e){var n=e.methods;if(n.join){n=e.methods.join(",")}return{key:"Access-Control-Allow-Methods",value:n}}function configureCredentials(e){if(e.credentials===true){return{key:"Access-Control-Allow-Credentials",value:"true"}}return null}function configureAllowedHeaders(e,n){var t=e.allowedHeaders||e.headers;var r=[];if(!t){t=n.headers["access-control-request-headers"];r.push([{key:"Vary",value:"Access-Control-Request-Headers"}])}else if(t.join){t=t.join(",")}if(t&&t.length){r.push([{key:"Access-Control-Allow-Headers",value:t}])}return r}function configureExposedHeaders(e){var n=e.exposedHeaders;if(!n){return null}else if(n.join){n=n.join(",")}if(n&&n.length){return{key:"Access-Control-Expose-Headers",value:n}}return null}function configureMaxAge(e){var n=(typeof e.maxAge==="number"||e.maxAge)&&e.maxAge.toString();if(n&&n.length){return{key:"Access-Control-Max-Age",value:n}}return null}function applyHeaders(e,n){for(var t=0,o=e.length;t<o;t++){var i=e[t];if(i){if(Array.isArray(i)){applyHeaders(i,n)}else if(i.key==="Vary"&&i.value){r(n,i.value)}else if(i.value){n.setHeader(i.key,i.value)}}}}function cors(e,n,t,r){var o=[],i=n.method&&n.method.toUpperCase&&n.method.toUpperCase();if(i==="OPTIONS"){o.push(configureOrigin(e,n));o.push(configureCredentials(e,n));o.push(configureMethods(e,n));o.push(configureAllowedHeaders(e,n));o.push(configureMaxAge(e,n));o.push(configureExposedHeaders(e,n));applyHeaders(o,t);if(e.preflightContinue){r()}else{t.statusCode=e.optionsSuccessStatus;t.setHeader("Content-Length","0");t.end()}}else{o.push(configureOrigin(e,n));o.push(configureCredentials(e,n));o.push(configureExposedHeaders(e,n));applyHeaders(o,t);r()}}function middlewareWrapper(e){var t=null;if(typeof e==="function"){t=e}else{t=function(n,t){t(null,e)}}return function corsMiddleware(e,r,i){t(e,function(t,s){if(t){i(t)}else{var u=n({},o,s);var a=null;if(u.origin&&typeof u.origin==="function"){a=u.origin}else if(u.origin){a=function(e,n){n(null,u.origin)}}if(a){a(e.headers.origin,function(n,t){if(n||!t){i(n)}else{u.origin=t;cors(u,e,r,i)}})}else{i()}}})}}e.exports=middlewareWrapper})()},351:function(e,n,t){const r=t(150);const o=t(127);const i=t(287);const s=t(605);const u=t(825);const a=t(207);const c=process.env.PORT||9122;var l=o().use(o.json()).use(r("dev")).use(function(e,n,t){n.header("Access-Control-Allow-Origin","*");n.header("Access-Control-Allow-Credentials",true);n.header("Access-Control-Allow-Methods","GET,PUT,POST,DELETE,OPTIONS");n.header("Access-Control-Allow-Headers","Origin,X-Requested-With,Content-Type,Accept,content-type,application/json");t()}).use(i({origin:function(e,n){return n(null,true)}}));l.get("/emitter",(e,n)=>{n.send(a(true))});l.get("/listener",(e,n)=>{n.send(a(false))});const f=s.createServer(l);u(f);f.listen(c,e=>{if(e)throw e;console.log(`> Ready on server http://localhost:${c}`)})},395:function(e){e.exports=require("socket.io")},426:function(e){"use strict";var n=Object.getOwnPropertySymbols;var t=Object.prototype.hasOwnProperty;var r=Object.prototype.propertyIsEnumerable;function toObject(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function shouldUseNative(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var n={};for(var t=0;t<10;t++){n["_"+String.fromCharCode(t)]=t}var r=Object.getOwnPropertyNames(n).map(function(e){return n[e]});if(r.join("")!=="0123456789"){return false}var o={};"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e});if(Object.keys(Object.assign({},o)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=shouldUseNative()?Object.assign:function(e,o){var i;var s=toObject(e);var u;for(var a=1;a<arguments.length;a++){i=Object(arguments[a]);for(var c in i){if(t.call(i,c)){s[c]=i[c]}}if(n){u=n(i);for(var l=0;l<u.length;l++){if(r.call(i,u[l])){s[u[l]]=i[u[l]]}}}}return s}},605:function(e){e.exports=require("http")},825:function(e,n,t){const r=t(395);function initializeSocket(e){const n=r(e);n.on("connection",e=>{const t={type:"connect",id:e.id};e.emit("log",t);console.log(t);e.on("emit",({event:t,arg:r})=>{const o={type:"emit",id:e.id,arg:r,event:t};e.emit("log",o);console.log(o);n.emit(t,r)})})}e.exports=initializeSocket},931:function(e){"use strict";e.exports=vary;e.exports.append=append;var n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function append(e,t){if(typeof e!=="string"){throw new TypeError("header argument is required")}if(!t){throw new TypeError("field argument is required")}var r=!Array.isArray(t)?parse(String(t)):t;for(var o=0;o<r.length;o++){if(!n.test(r[o])){throw new TypeError("field argument contains an invalid header name")}}if(e==="*"){return e}var i=e;var s=parse(e.toLowerCase());if(r.indexOf("*")!==-1||s.indexOf("*")!==-1){return"*"}for(var u=0;u<r.length;u++){var a=r[u].toLowerCase();if(s.indexOf(a)===-1){s.push(a);i=i?i+", "+r[u]:r[u]}}return i}function parse(e){var n=0;var t=[];var r=0;for(var o=0,i=e.length;o<i;o++){switch(e.charCodeAt(o)){case 32:if(r===n){r=n=o+1}break;case 44:t.push(e.substring(r,n));r=n=o+1;break;default:n=o+1;break}}t.push(e.substring(r,n));return t}function vary(e,n){if(!e||!e.getHeader||!e.setHeader){throw new TypeError("res argument is required")}var t=e.getHeader("Vary")||"";var r=Array.isArray(t)?t.join(", "):String(t);if(t=append(r,n)){e.setHeader("Vary",t)}}}});